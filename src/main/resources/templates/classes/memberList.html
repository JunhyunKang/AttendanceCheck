<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header" />
<body>
<div class="container">
  <div th:replace="fragments/bodyHeader :: bodyHeader"/>
  <div>
    <table class="table table-striped">
      <thead> <tr>
        <!--        <th>#</th>-->
        <th>이름</th> <th>회원번호</th> <th>삭제</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="register : ${registrations}">
        <!--        <td th:text="${class.id}"></td>-->
        <td th:text="${register.getMember().getName()}"></td>
        <td th:text="${register.getMember().getCode()}"></td>
        <td>
<!--          <a href="#" th:href="@{delete/{id} (id=${member.id})}" class="btn btn-primary" role="button">삭제</a>-->
          <a href="#" th:href="'javascript:cancel('+${register.id}+')'" class="btn btn-danger">삭제</a>
        </td>

        <!--        <td>-->
        <!--          <a href="#" th:href="@{/items/{id}/edit (id=${item.id})}" class="btn btn-primary" role="button">수정</a>-->
        <!--        </td> -->
      </tr>

      </tbody>
    </table>
  </div>
<!--  <div style="text-align: center">-->
<!--    <a href="#" th:href="@{register/{id} (id=${registrations.get(0).getId()})}" class="btn btn-primary" role="button">수강생 추가</a>-->
<!--  </div>-->

    <div style="text-align: center">
        <a href="#" th:href="@{/classes/{id}/edit/registration (id=${classId})}" class="btn btn-primary" role="button">수강생 추가</a>
    </div>

  <div th:replace="fragments/footer :: footer"/>
</div> <!-- /container -->
</body>
<script>
  function cancel(id) {
    var form = document.createElement("form");
    form.setAttribute("method", "post");
    form.setAttribute("action", "/classes/"+ id + "/delete");
    document.body.appendChild(form);
    form.submit();
  } </script>
</html>